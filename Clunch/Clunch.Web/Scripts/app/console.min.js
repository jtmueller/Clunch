(function(){"use strict";var n,t,i=function(n,t){return function(){return n.apply(t,arguments)}};n=function(){function n(n,t,r){this.sendMessage=i(this.sendMessage,this),this.addMessage=i(this.addMessage,this),this.scope=n,this.el=t,this.dialog=r,this.output=this.el.find(".console"),this.textBox=this.el.find('input[type="text"]'),this.el.find("form").submit(this.sendMessage),this.el.find('input[type="button"]').click(this.sendSMessage),this.hub=$.connection.clunchHub,this.hub.client.addMessage=this.addMessage,this.hub.client.alertMessage=this.alertMessage,$.connection.hub.start()}return n.prototype.addMessage=function(n){return this.output.append($("<div/>").text(n)),this.output.scrollTop(this.output.prop("scrollHeight"))},n.prototype.sendMessage=function(n){var t;if(n.preventDefault(),t=this.textBox.val(),t.length!==0)return this.hub.server.send(t),this.textBox.val(""),this.textBox.focus()},n.prototype.alertMessage=function(n,t){return alert(t)},n}(),t=angular.module("clunch"),t.directive("console",function(){return{restrict:"E",replace:!0,scope:{},template:'<div>\n    <div class="row-fluid">\n        <div class="span5 console">\n        <\/div>\n    <\/div>\n    <div class="row-fluid">\n        <form name="consoleForm" class="navbar-form pull-left span5">\n            <input type="text" class="span10" required />\n            <input type="button" class="btn span2" value="Send" ng-disabled="consoleForm.$invalid" />\n        <\/form>\n    <\/div>\n<\/div>',controller:n,link:function(){}}})}).call(this)