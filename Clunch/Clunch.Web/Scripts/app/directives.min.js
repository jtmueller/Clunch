(function(){"use strict";var n;n=angular.module("clunch"),n.directive("chat",["ClunchHub",function(n){return{restrict:"E",replace:!0,scope:{},template:'<div>\n    <div class="row-fluid">\n        <div class="span5 chatBox">\n        <\/div>\n    <\/div>\n    <div class="row-fluid">\n        <form name="chatForm" class="navbar-form pull-left span5">\n            <input type="text" class="span10" required />\n            <input type="button" class="btn span2" value="Send" ng-disabled="chatForm.$invalid" />\n        <\/form>\n    <\/div>\n<\/div>',link:function(t,i){var r,f,u;r=i.find(".chatBox"),n.client.addMessage=function(n){return r.append($("<div/>").text(n)),r.scrollTop(r.prop("scrollHeight"))},u=i.find('input[type="text"]'),f=function(t){var i;if(t.preventDefault(),i=u.val(),i.length!==0)return n.server.send(i),u.val(""),u.focus()},i.find("form").submit(f),i.find('input[type="button"]').click(f)}}}])}).call(this)